<div class="container profile">
  <div class="row center">
    <div class="col s12 m4 profile-sidebar">
      <div class="avatar-profile center">
        <img src="{{user.image}}" alt="" class="responsive-img">
        <p class="center flow-text">{{user.primaryUsername}}</h3>
        <p class="center flow-text play-style">{{user.playStyle}}</h3>
      </div>
      <button class="btn waves-effect waves-light" ng-click="openMessageModal()">message</button>
      <br><br>
      <!-- Request Match Modal Trigger -->
      <a class="waves-effect waves-light btn modal-trigger" href="#requestAMatch">request a match</a>

      <div class="feedback-wrapper">
        <h5>Positive Feedback:</h5>
        <div class="text-positive">{{user.feedback.positivePercentage}} %</div>
        <h5>Negative Feedback:</h5>
        <div class="text-negative">{{user.feedback.negativePercentage}} %</div>
      </div>
    </div>
    <div class="col s12 m8 profile-main">
      <div class="card" ng-if="user.sc2">
        <div class="card-content">
          <div class="card-title black-text">Starcraft 2</div>
          <!-- <img ng-src="{{sc2data.portrait.url}}" class="portrait" alt=""> -->
          <h5>{{sc2data.displayName}}</h5>
          <h5>Primary Race: {{sc2data.career.primaryRace}}</h5>
          <hr>
          <h6>Protoss wins: {{sc2data.career.protossWins}}</h6>
          <h6>Zerg wins: {{sc2data.career.zergWins}}</h6>
          <h6>Terran wins: {{sc2data.career.terranWins}}</h6>
          <h6>Season total games: {{sc2data.career.seasonTotalGames}}</h6>
          <h6>Career total games: {{sc2data.career.careerTotalGames}}</h6>
          <h6>1v1 Rank: {{sc2data.career.highest1v1Rank}}</h6>
          <h6>Team Rank: {{sc2data.career.highestTeamRank}}</h6>
        </div>
      </div>
      <div class="card" ng-if="user.lol">
        <div class="card-content">
          <div class="card-title black-text">Leage of Legends</div>
          <h5>{{loldata.name}}</h5>
          <hr>
          <h6>Wins: {{loldata.wins}}</h6>
          <h6>Losses: {{loldata.losses}}</h6>
          <h6>Total games played: {{loltotalgames}}</h6>
          <h6>Tier: <span>{{loldata.tier_name}}</span></h6>
          <h5 class="heroes">heroes</h5>
          <br>
          <hr width="20%">
          <br>
          <div class="col m6" ng-repeat="hero in lolHeroes">
            <img ng-src="http://ddragon.leagueoflegends.com/cdn/4.2.6/img/champion/{{hero.name}}.png" alt="">
            <h4>{{hero.name}}</h4>
            <div ng-repeat="tags in hero.tags">
              <bold>{{tag}}</bold>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col s12 m8 offset-m2 profile-main profile-endorsements">
      <div class="card">
        <div class="card-content">
          <div class="card-title black-text">Endorsements</div>
          <div ng-repeat="(endorsement, val) in endorsements track by $index" class="endorsement"
               ng-click="endorse(endorsement, val, $event)">{{endorsement}}: {{val}}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m8 offset-m2">
      <hr width="40%">
      <div class="row">
        <h4 class="center">User Feedback</h4>
        <div class="card-panel" ng-repeat="feedback in feedbacks">
          <h5>{{feedback.poster}}</h5>
          <h6 class="{{feedback.feedbackVal}}">
              {{feedback.feedbackVal}}
          </h6>
          <span>{{feedback.body}}</span>
        </div>
      </div>

      <div class="row">
        <form name="newMessage" ng-submit="submitFeedback()">
          <div class="input-field col s12">
            <textarea id="textarea1" class="materialize-textarea" ng-model="feedback.body"></textarea>
            <label for="textarea1">Played a game with this user?  Leave feedback!</label>
            <h6 class="center">Did you enjoy playing with {{user.primaryUsername}}?</h6>
            <div class="center feedback-radio-wrapper">
              <span>
                <input name="feedback" type="radio" id="positive-feedback" ng-model="feedbackVal" value="positive" />
                <label for="positive-feedback">yep!</label>
              </span>
              <span>
                <input name="feedback" type="radio" id="negative-feedback" ng-model="feedbackVal" value="negative" />
                <label for="negative-feedback">nope.</label>
              </span>
            </div>
          </div>
          <div class="center">
            <button type="submit" class="center btn wave-effects wave-light submit-feedback">submit feedback</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- Request Match Modal  -->
<div id="requestAMatch" class="modal bottom-sheet">
  <div class="modal-content">
    <h4>Request a Match</h4>
    <div class="col sm-12 m-3">
      <form name="requestMatchForm">
        <!-- <input type="text" id="datepicker" ng-model="matchDate"> -->
        <span class="request-text">Date and time:  </span>
        <input type="datetime-local" class="datepicker" ng-model="match.date">
        <span class="request-text"> Game: </span>
        <select class="browser-default request-game" ng-model="match.game">
          <option value="" disabled selected>Choose your option</option>
          <option value="starcraft 2">starcraft 2</option>
          <option value="league of legends">league of legends</option>
        </select>
      </form>
    </div>
  </div>
  <div class="modal-footer">
    <a href="" ng-click="submitRequest()" class=" modal-action modal-close waves-effect waves-green btn-flat">submit</a>
    <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">cancel</a>
  </div>
</div>
